install.packages('moon_reader')
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
x <- factor(c(1, 0, 0, 1),
levels = c(0, 1),
labels = c('hombre', 'mujer'))
`
x <- factor(c(1, 0, 0, 1),
levels = c(0, 1),
labels = c('hombre', 'mujer'))
x
x <- factor(c(1, 0, 0, 1),
levels = c(0, 1),
labels = c('hombre', 'mujer'))
x
install.packages('xaringanExtra')
setwd('C:/Users/edgar/Desktop/curso_intro_r')
data.frame(c(1, 2, 3))
asd <- data.frame(c(1, 2, 3))
View(asd)
asd <- data.frame(1:3)
View(asd)
asd[[1]]
asd[1
asd[1]
asd[1]
asd[1]
asd[[1]]
asd[1]
asd$X1.3
c('hombre', 'mujer', 'mujer', 'hombre'))
c('hombre', 'mujer', 'mujer', 'hombre'))
(y <- data.frame(c('Matías', 'Camila', 'Valentina', 'Ernesto'),
c('hombre', 'mujer', 'mujer', 'hombre')))
.pull-right[ ![](file.path('inputs', 'tidyverse-logos.png') ]
.pull-right[
![](file.path('inputs', 'tidyverse-logos.png')
]
names(elsoc_wide_2016_2021[1:10])
load(url("https://dataverse.harvard.edu/api/access/datafile/4606527"))
load(url("https://dataverse.harvard.edu/api/access/datafile/6160173"))
class(elsoc_long_2016_2021)
dim(elsoc_long_2016_2021)
names(elsoc_long_2016_2021[1:10])
head(elsoc_long_2016_2021[1:6], n = 5)
head(elsoc_long_2016_2021[1:10], n = 5)
View(elsoc_long_2016_2021)
elsoc_Long <- elsoc_long_2016_2021 %>%
dplyr::filter(tipo_atricion == 1 & tipo_caso != 2) %>%
dplyr::select(idencuesta, m0_sexo, m0_edad, c17, c05_08)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
a <- 100
a+2
log(a)
runif(5)
runif(5, min = .4, max = .6)
runif(5, .4, .6)
# Aquí defino A
A <- 3
B <- 2 # Aquí defino B
A+B
x <- c(1, 2, 3, 4)
x
class(x)
y <- c('uno', 'A', 'cuadrado', 'manzana')
y
class(y)
```
load(url("https://dataverse.harvard.edu/api/access/datafile/6160173"))
load(url("https://dataverse.harvard.edu/api/access/datafile/6160173"))
class(elsoc_long_2016_2019)
# Sexo
elsoc_long_2016_2021$sexo <- factor(elsoc_long_2016_2021$m0_sexo,labels = c('Hombre', 'Mujer'))
# Generar variable de identificación con coalición política
elsoc_long_2016_2021$idcoal <- factor(elsoc_long_2016_2021$c17,
labels = c('Chile Vamos','Nueva Mayoría','Frente Amplio', 'Otra','Ninguna'))
sjmisc::frq(elsoc_long_2016_2021$idcoal)
sjmisc::frq(elsoc_long_2016_2021$c17)
# Generar variable de identificación con coalición política
elsoc_long_2016_2021$idcoal <- sjlabelled::as_label(elsoc_long_2016_2021$c17)
# Generar variable de confianza en el presidente
elsoc_long_2016_2021$conf_presi <- factor(elsoc_long_2016_2021$c05_08,
labels = c('Nada', 'Poco', 'Algo', 'Bastante', 'Mucho'))
# Generar variable de confianza en el presidente
elsoc_long_2016_2021$conf_presi <- factor(elsoc_long_2016_2021$c05_08,
labels = c('Nada', 'Poco', 'Algo', 'Bastante', 'Mucho'))
# Generar variable de confianza en el presidente
elsoc_long_2016_2021$conf_presi <- sjlabelled::as_label(elsoc_long_2016_2021$c05_08)
mean(elsoc_long_2016_2021$m0_edad, na.rm = TRUE)
median(elsoc_long_2016_2021$m0_edad, na.rm = TRUE)
sd(elsoc_Long$m0_edad, na.rm = TRUE)
elsoc_long_2016_2021 %>%
dplyr::group_by(ola) %>%
dplyr::summarise(edad_promedio = mean(m0_edad, na.rm = TRUE))
table(elsoc_long_2016_2021$idcoal)
tabla1 <- table(elsoc_long_2016_2021$idcoal)
prop.table(tabla1)
(tabla2 <- table(elsoc_long_2016_2021$idcoal, elsoc_long_2016_2021$conf_presi))
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
a <- 100
a+2
log(a)
runif(5)
runif(5, min = .4, max = .6)
runif(5, .4, .6)
# Aquí defino A
A <- 3
B <- 2 # Aquí defino B
A+B
x <- c(1, 2, 3, 4)
x
class(x)
y <- c('uno', 'A', 'cuadrado', 'manzana')
y
class(y)
```
class(elsoc_long_2016_2021)
dim(elsoc_long_2016_2021)
names(elsoc_long_2016_2021[1:10])
head(elsoc_long_2016_2021[1:10], n = 5)
View(elsoc_long_2016_2021)
datos %>%
dplyr::group_by(sexo) %>%
dplyr::summarise(ingreso_medio = mean(ingresos, na.rm = TRUE)) %>%
dplyr::ungroup()
(datos <- data.frame(nombre = c('Matías', 'Camila', 'Valentina', 'Ernesto'),
sexo = c('hombre', 'mujer', 'mujer', 'hombre'),
edad = c(23, 50, 55, 15),
ingresos = c(350000, 1200000, 400000, NA)))
datos %>%
dplyr::group_by(sexo) %>%
dplyr::summarise(ingreso_medio = mean(ingresos, na.rm = TRUE)) %>%
dplyr::ungroup()
x <- datos %>%
dplyr::group_by(sexo) %>%
dplyr::summarise(ingreso_medio = mean(ingresos, na.rm = TRUE)) %>%
dplyr::ungroup()
class(x)
class(Datos)
class(fatos)
class(datos)
load(file.path('inputs', 'ELSOC_Long_2016_2021_v1.00_R.RData'))
elsoc <- haven::read_dta(file = file.path('inputs', 'ELSOC_Long_2016_2021_v1.00_Stata14.dta'))
class(elsoc_long_2016_2021)
dim(elsoc_long_2016_2021)
names(elsoc_long_2016_2021[1:10])
names(elsoc_long_2016_2021[1:10])
dplyr::filter(elsoc_long_2016_2021, sexo == 'hombre')
dplyr::filter(elsoc_long_2016_2021, m0_sexo == 'hombre')
dplyr::filter(elsoc_long_2016_2021, m0_sexo == 1)
count(dplyr::filter(elsoc_long_2016_2021))
count(dplyr::filter(elsoc_long_2016_2021, m0_sexo == 1))
count(dplyr::filter(elsoc_long_2016_2021))
count(dplyr::filter(elsoc_long_2016_2021, m0_sexo == 1))
count(dplyr::filter(elsoc_long_2016_2021, m0_sexo == 2))
count(dplyr::filter(elsoc_long_2016_2021, m0_sexo == 1))
count(dplyr::filter(elsoc_long_2016_2021))
count(dplyr::filter(elsoc_long_2016_2021, m0_sexo == 1))
dplyr::filter(elsoc_long_2016_2021, m0_sexo == 1)
dim(elsoc_hombres)
elsoc_hombres <- dplyr::filter(elsoc_long_2016_2021, m0_sexo == 1)
dim(elsoc_hombres)
elsoc_reducido <- dplyr::select(elsoc_long_2016_2021, sexo, edad)
elsoc_reducido <- dplyr::select(elsoc_long_2016_2021, m0_sexo, m0_edad)
elsoc_reducido <- dplyr::select(elsoc_long_2016_2021, ola, tipo_atricion, m0_sexo, m0_edad)
elsoc_reducid_hombres <- dplyr::filter(elsoc_reducido, m0_sexo == 1)
dim(elsoc_hombres)
elsoc_reducido <- dplyr::select(elsoc_long_2016_2021, ola, tipo_atricion, m0_sexo, m0_edad)
elsoc_reducid_hombres <- dplyr::filter(elsoc_reducido, m0_sexo == 1)
dim(elsoc_hombres)
dim(elsoc_reducido_hombres)
elsoc_reducido_hombres <- dplyr::filter(elsoc_reducido, m0_sexo == 1)
dim(elsoc_reducido_hombres)
dplyr::mutate(elsoc_reducido_hombres,
edad2 = m0_edad*2)
elsoc_reducido <- dplyr::filter(elsoc_reducido, m0_sexo == 1)
dim(elsoc_reducido_hombres)
elsoc_hombres <- dplyr::filter(elsoc_long_2016_2021, m0_sexo == 1)
dim(elsoc_hombres)
elsoc_reducido <- dplyr::select(elsoc_long_2016_2021, ola, tipo_atricion, m0_sexo, m0_edad)
dim(elsoc_reducido)
dplyr::mutate(elsoc_long_2016_2021,
edad2 = m0_edad*2)
elsoc_long_2016_2021 <- dplyr::mutate(elsoc_long_2016_2021,
edad2 = m0_edad*2)
elsoc_long_2016_2021 <- dplyr::mutate(elsoc_long_2016_2021,
edad2 = m0_edad*2)
elsoc_long_2016_2021 <- dplyr::mutate(elsoc_long_2016_2021,
edad2 = m0_edad*2)
```
elsoc_long_2016_2021 <- dplyr::mutate(elsoc_long_2016_2021,
edad2 = m0_edad*2)
mean(elsoc_long_2016_2021$edad)
mean(elsoc_long_2016_2021$edad)
mean(elsoc_long_2016_2021$edad2)
mean(elsoc_long_2016_2021$m0_edad)
mean(elsoc_long_2016_2021$edad2)
elsoc_long_2016_2021 <- dplyr::mutate(elsoc_long_2016_2021,
edadx2 = m0_edad*2)
mean(elsoc_long_2016_2021$m0_edad)
mean(elsoc_long_2016_2021$edad2)
elsoc_long_2016_2021 <- dplyr::mutate(elsoc_long_2016_2021,
edadx2 = log(edadx2) - 10)
mean(elsoc_long_2016_2021$edadx2)
elsoc_long_2016_2021 <- dplyr::mutate(elsoc_long_2016_2021,
edadx2 = log(edadx2))
mean(elsoc_long_2016_2021$edadx2)
elsoc_long_2016_2021 <- dplyr::mutate(elsoc_long_2016_2021,
edadx2 = log(edadx2))
mean(elsoc_long_2016_2021$edadx2)
elsoc_long_2016_2021 <- dplyr::mutate(elsoc_long_2016_2021,
edadx2 = m0_edad*2)
mean(elsoc_long_2016_2021$m0_edad)
mean(elsoc_long_2016_2021$edadx2)
elsoc_long_2016_2021 <- dplyr::mutate(elsoc_long_2016_2021,
edadx2 = log(edadx2))
mean(elsoc_long_2016_2021$edadx2)
table(elsoc_hombres$m0_sexo)
table(elsoc_long_2016_2021$m0_sexo)
table(elsoc_hombres$m0_sexo)
elsoc_reducido <- dplyr::select(elsoc_long_2016_2021, ola, tipo_atricion, m0_sexo, m0_edad)
dim(elsoc_reducido)
elsoc_reducido[1:10,]
elsoc_reducido[1:5,]
elsoc_long_2016_2021[1:5, c(m0_edad, edadx2)]
elsoc_long_2016_2021[1:5, c('m0_edad', 'edadx2')]
elsoc_long_2016_2021 <- dplyr::mutate(elsoc_long_2016_2021,
edadx2 = m0_edad*2)
elsoc_long_2016_2021[1:5, c('m0_edad', 'edadx2')]
elsoc_long_2016_2021 <- dplyr::mutate(elsoc_long_2016_2021,
edadx2 = log(edadx2))
elsoc_long_2016_2021[1:5, c('m0_edad', 'edadx2')]
dplyr::summarise(elsoc_long_2016_2021,
promedio_edad = mean(m0_edad),
mediana_edad = median(m0_edad))
dplyr::filter(datos, sexo == 'mujer')
datos %>%
dplyr::filter(sexo == 'mujer')
datos %>% dplyr::filter(sexo == 'mujer')
elsoc_long_2016_2021 %>% dplyr::summarise(promedio_edad == mean(m0_edad))
elsoc_long_2016_2021 %>% dplyr::summarise(promedio_edad = mean(m0_edad))
elsoc_long_2016_2021 %>%
select(m0_sexo, edad) %>%
filter(m0_sexo == 2) %>%
dplyr::summarise(promedio_edad = mean(m0_edad))
elsoc_long_2016_2021 %>%
select(m0_sexo, m0_edad) %>%
filter(m0_sexo == 2) %>%
dplyr::summarise(promedio_edad = mean(m0_edad))
elsoc_long_2016_2021 %>%
filter(m0_sexo == 2) %>%
dplyr::summarise(promedio_edad = mean(m0_edad))
elsoc_long_2016_2021 %>% dplyr::filter(m0_sexo == 2)
elsoc_long_2016_2021 %>%
dplyr::filter(m0_sexo == 2) %>%
dplyr::summarise(edad_media = mean(m0_edad, na.rm = TRUE),
edad_mediana = median(m0_edad, na.rm = TRUE))
dplyr::group_by(m02) %>%
dplyr::summarise(edad_promedio = mean(m0_edad)) %>%
dplyr::ungroup()
elsoc_long_2016_2021 %>%
dplyr::filter(m0_sexo == 2) %>%
dplyr::group_by(m02) %>%
dplyr::summarise(edad_promedio = mean(m0_edad)) %>%
dplyr::ungroup()
elsoc_long_2016_2021 %>%
dplyr::filter(m0_sexo == 2) %>%
dplyr::group_by(m01) %>%
dplyr::summarise(edad_promedio = mean(m0_edad)) %>%
dplyr::ungroup()
elsoc_long_2016_2021 %>%
dplyr::filter(m0_sexo == 2) %>%
sjlabelled::as_label(m01) %>%
dplyr::group_by(m01) %>%
dplyr::summarise(edad_promedio = mean(m0_edad)) %>%
dplyr::ungroup()
elsoc_hombres <- dplyr::filter(elsoc_long_2016_2021, m0_sexo == 1)
asd <- elsoc_long_2016_2021$m0_sexo == 1
elsoc_hombres <- dplyr::filter(elsoc_long_2016_2021, asd)
elsoc_hombres <- dplyr::filter(elsoc_long_2016_2021, m0_sexo == 1)
table(elsoc_long_2016_2021$m0_sexo)
table(elsoc_hombres$m0_sexo)
```{r}
elsoc_reducido <- dplyr::select(elsoc_long_2016_2021, ola, tipo_atricion, m0_sexo, m0_edad)
elsoc_reducido[1:5,]
elsoc_long_2016_2021 %>%
dplyr::filter(m0_sexo == 2) %>%
dplyr::summarise(edad_media = mean(m0_edad, na.rm = TRUE),
edad_mediana = median(m0_edad, na.rm = TRUE))
elsoc_long_2016_2021 %>%
dplyr::filter(m0_sexo == 2) %>%
sjlabelled::as_label(m01) %>%
dplyr::group_by(m01) %>%
dplyr::summarise(edad_promedio = mean(m0_edad)) %>%
dplyr::ungroup()
elsoc_long_2016_2021 %>%
dplyr::filter(m0_sexo == 2) %>%
sjlabelled::as_label(m01) %>%
dplyr::group_by(m01) %>%
dplyr::summarise(edad_promedio = mean(m0_edad),
edad_maxima = max(m0_edad)) %>%
dplyr::ungroup()
elsoc_long_2016_2021 %>%
dplyr::filter(m0_sexo == 2) %>%
sjlabelled::as_label(m01) %>%
dplyr::group_by(m01) %>%
dplyr::summarise(edad_promedio = mean(m0_edad),
edad_minima = min(m0_edad),
edad_maxima = max(m0_edad)) %>%
dplyr::ungroup()
elsoc_long_2016_2021 %>%
dplyr::filter(m0_sexo == 2) %>%
sjlabelled::as_label(m01) %>%
dplyr::group_by(ola) %>%
dplyr::summarise(edad_promedio = mean(m0_edad),
edad_minima = min(m0_edad),
edad_maxima = max(m0_edad)) %>%
dplyr::ungroup()
elsoc_long_2016_2021 %>%
dplyr::filter(m0_sexo == 2) %>%
sjlabelled::as_label(m01) %>%
dplyr::group_by(ola) %>%
dplyr::summarise(edad_promedio = mean(m0_edad),
edad_maxima = max(m0_edad)) %>%
dplyr::ungroup()
elsoc_long_2016_2021 %>%
dplyr::filter(m0_sexo == 2, tipo_atricion == 1) %>%
sjlabelled::as_label(m01) %>%
dplyr::group_by(ola) %>%
dplyr::summarise(edad_promedio = mean(m0_edad),
edad_maxima = max(m0_edad)) %>%
dplyr::ungroup()
elsoc_long_2016_2021 %>%
dplyr::filter(m0_sexo == 2, tipo_atricion == 1) %>%
sjlabelled::as_label(m01) %>%
dplyr::group_by(ola) %>%
dplyr::summarise(edad_promedio = mean(m0_edad),
edad_maxima = max(m0_edad)) %>%
dplyr::ungroup()
elsoc_long_2016_2021 %>%
dplyr::filter(m0_sexo == 2, tipo_atricion == 1) %>%
dplyr::group_by(ola) %>%
dplyr::summarise(edad_promedio = mean(m0_edad),
edad_maxima = max(m0_edad)) %>%
dplyr::ungroup()
elsoc_long_2016_2021 %>%
dplyr::group_by(ola) %>%
dplyr::summarise(edad_promedio = mean(m0_edad),
edad_maxima = max(m0_edad)) %>%
dplyr::ungroup()
elsoc_long_2016_2021 %>%
dplyr::filter(tipo_atricion == 1) %>%
dplyr::group_by(ola) %>%
dplyr::summarise(edad_promedio = mean(m0_edad),
edad_maxima = max(m0_edad)) %>%
dplyr::ungroup()
elsoc_long_2016_2021 %>%
dplyr::filter(tipo_atricion == 1) %>%
dplyr::group_by(ola, m0_sexo) %>%
dplyr::summarise(edad_promedio = mean(m0_edad),
edad_maxima = max(m0_edad)) %>%
dplyr::ungroup()
elsoc_long_2016_2021 <- elsoc_wide_2016_2019 %>%
pivot_longer(cols = -c('idencuesta'),
names_to = c('.value', 'ola'),
names_sep = '_w0')
View(elsoc_long_2016_2021)
